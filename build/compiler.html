<html>
<head>
    <title>Gutentyp optimizer</title>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
</head>
<body>

    <h2>Whitespace Only Optimization</h2>
    <form id="whitespace">
        <input name="output_format" value="json" />
        <!--<input name="output_info" value="compiled_code" />-->
        <input name="output_info" value="warnings" />
        <input name="output_info" value="errors" />
        <input name="output_info" value="statistics" />
        <input name="compilation_level" value="WHITESPACE_ONLY" />
        <input name="warning_level" value="default" />
        <input name="formatting" value="pretty_print" />
        <input name="formatting" value="print_input_delimiter" />
        <input name="output_file_name" value="gutentyp.js" />
        <input name="code_url" value="https://raw.githubusercontent.com/losandes/gutentyp/master/source/config.js?token=933621__eyJzY29wZSI6IlJhd0Jsb2I6bG9zYW5kZXMvZ3V0ZW50eXAvbWFzdGVyL3NvdXJjZS9jb25maWcuanMiLCJleHBpcmVzIjoxNDA3OTU1OTU4fQ%3D%3D--00964a6a52e0133b785e47dba49ba04367ac3580" />
        <input name="code_url" value="https://raw.githubusercontent.com/losandes/gutentyp/master/source/dom.js?token=933621__eyJzY29wZSI6IlJhd0Jsb2I6bG9zYW5kZXMvZ3V0ZW50eXAvbWFzdGVyL3NvdXJjZS9kb20uanMiLCJleHBpcmVzIjoxNDA4MDU0MTc1fQ%3D%3D--a905eb3b922bcc591331023187be8ce1729c00e8" />
        <input name="code_url" value="https://raw.githubusercontent.com/losandes/gutentyp/master/source/pipeline.js?token=933621__eyJzY29wZSI6IlJhd0Jsb2I6bG9zYW5kZXMvZ3V0ZW50eXAvbWFzdGVyL3NvdXJjZS9waXBlbGluZS5qcyIsImV4cGlyZXMiOjE0MDc5NTYxNzR9--ba0b88a88d2cc3be6fba8951718a7ef44ab4ceda" />
        <input name="code_url" value="https://raw.githubusercontent.com/losandes/gutentyp/master/source/components.js?token=933621__eyJzY29wZSI6IlJhd0Jsb2I6bG9zYW5kZXMvZ3V0ZW50eXAvbWFzdGVyL3NvdXJjZS9jb21wb25lbnRzLmpzIiwiZXhwaXJlcyI6MTQwNzk1NjIyMn0%3D--acfae4797b505dab49783dde07200d41506045b3" />
        <input name="code_url" value="https://raw.githubusercontent.com/losandes/gutentyp/master/source/toolbar.js?token=933621__eyJzY29wZSI6IlJhd0Jsb2I6bG9zYW5kZXMvZ3V0ZW50eXAvbWFzdGVyL3NvdXJjZS90b29sYmFyLmpzIiwiZXhwaXJlcyI6MTQwNzk1NjI0M30%3D--902ae282f3a99b8705898e1b2f1dd1da2447c6da" />
        <input name="code_url" value="https://raw.githubusercontent.com/losandes/gutentyp/master/source/transformer.js?token=933621__eyJzY29wZSI6IlJhd0Jsb2I6bG9zYW5kZXMvZ3V0ZW50eXAvbWFzdGVyL3NvdXJjZS9jb3JlLmpzIiwiZXhwaXJlcyI6MTQwNzk1NjI2NX0%3D--a44401c1c602dd0e928d7c7833050679890a3513" />
        <input name="code_url" value="https://raw.githubusercontent.com/losandes/gutentyp/master/source/components.blocks.js?token=933621__eyJzY29wZSI6IlJhd0Jsb2I6bG9zYW5kZXMvZ3V0ZW50eXAvbWFzdGVyL3NvdXJjZS9jb21wb25lbnRzLmJsb2Nrcy5qcyIsImV4cGlyZXMiOjE0MDc5NTYyNzl9--312f7a9f9ec113966def4f02b58ba506ab92a05a" />
        <input name="code_url" value="https://raw.githubusercontent.com/losandes/gutentyp/master/source/components.colors.js?token=933621__eyJzY29wZSI6IlJhd0Jsb2I6bG9zYW5kZXMvZ3V0ZW50eXAvbWFzdGVyL3NvdXJjZS9jb21wb25lbnRzLmNvbG9ycy5qcyIsImV4cGlyZXMiOjE0MDc5NTYyOTV9--faae5a153bdc6723e0764fe26301529de9e6da2b" />
        <input name="code_url" value="https://raw.githubusercontent.com/losandes/gutentyp/master/source/components.emphasis.js?token=933621__eyJzY29wZSI6IlJhd0Jsb2I6bG9zYW5kZXMvZ3V0ZW50eXAvbWFzdGVyL3NvdXJjZS9jb21wb25lbnRzLmVtcGhhc2lzLmpzIiwiZXhwaXJlcyI6MTQwNzk1NjMwNn0%3D--ee74b58f0a7bc613cb95f96ed0feb32373243b50" />
        <input name="code_url" value="https://raw.githubusercontent.com/losandes/gutentyp/master/source/components.headings.js?token=933621__eyJzY29wZSI6IlJhd0Jsb2I6bG9zYW5kZXMvZ3V0ZW50eXAvbWFzdGVyL3NvdXJjZS9jb21wb25lbnRzLmhlYWRpbmdzLmpzIiwiZXhwaXJlcyI6MTQwNzk1NjMxOX0%3D--46f5a79a5e1c7f143257fc9533d3c3ff0150b6f7" />
        <input name="code_url" value="https://raw.githubusercontent.com/losandes/gutentyp/master/source/components.image.js?token=933621__eyJzY29wZSI6IlJhd0Jsb2I6bG9zYW5kZXMvZ3V0ZW50eXAvbWFzdGVyL3NvdXJjZS9jb21wb25lbnRzLmltYWdlLmpzIiwiZXhwaXJlcyI6MTQwNzk1NjMzNn0%3D--9ca78b5b2c4221e7570b3c3d8c19991828389222" />
        <input name="code_url" value="https://raw.githubusercontent.com/losandes/gutentyp/master/source/components.justification.js?token=933621__eyJzY29wZSI6IlJhd0Jsb2I6bG9zYW5kZXMvZ3V0ZW50eXAvbWFzdGVyL3NvdXJjZS9jb21wb25lbnRzLmp1c3RpZmljYXRpb24uanMiLCJleHBpcmVzIjoxNDA3OTU2MzU4fQ%3D%3D--7b7f75863edc817e98a9c9ba064afbf311a1680e" />
        <input name="code_url" value="https://raw.githubusercontent.com/losandes/gutentyp/master/source/components.link.js?token=933621__eyJzY29wZSI6IlJhd0Jsb2I6bG9zYW5kZXMvZ3V0ZW50eXAvbWFzdGVyL3NvdXJjZS9jb21wb25lbnRzLmxpbmsuanMiLCJleHBpcmVzIjoxNDA3OTU2MzcyfQ%3D%3D--8cb9225b828ef37edb994bef947ce76cd82699e5" />
        <input name="code_url" value="https://raw.githubusercontent.com/losandes/gutentyp/master/source/components.lists.js?token=933621__eyJzY29wZSI6IlJhd0Jsb2I6bG9zYW5kZXMvZ3V0ZW50eXAvbWFzdGVyL3NvdXJjZS9jb21wb25lbnRzLmxpc3RzLmpzIiwiZXhwaXJlcyI6MTQwNzk1NjM4Nn0%3D--9f4003ed4cbfdae776ec6ff0bb29d30b7dfb47a5" />
        <input name="code_url" value="https://raw.githubusercontent.com/losandes/gutentyp/master/source/components.embed.js?token=933621__eyJzY29wZSI6IlJhd0Jsb2I6bG9zYW5kZXMvZ3V0ZW50eXAvbWFzdGVyL3NvdXJjZS9jb21wb25lbnRzLmVtYmVkLmpzIiwiZXhwaXJlcyI6MTQwODA1NDIxNH0%3D--dec4688ad584f84637734d5cf6fa7e1e2c27d8ae" />
        <input name="code_url" value="https://raw.githubusercontent.com/losandes/gutentyp/master/source/gutentyp.js?token=933621__eyJzY29wZSI6IlJhd0Jsb2I6bG9zYW5kZXMvZ3V0ZW50eXAvbWFzdGVyL3NvdXJjZS9ndXRlbnR5cC5qcyIsImV4cGlyZXMiOjE0MDc5NTY0MTh9--3b7d3b1c6faca602d169359554e6fe00ab5e7dfb" />
    </form>
    <button type="button" onclick="optimize.whitespace();">optimize</button> 
    
    <h2>Simple Optimization (Minify)</h2>
    <form id="simple">
        <input name="output_format" value="json" />
        <!--<input name="output_info" value="compiled_code" />-->
        <input name="output_info" value="warnings" />
        <input name="output_info" value="errors" />
        <input name="output_info" value="statistics" />
        <input name="compilation_level" value="SIMPLE_OPTIMIZATIONS" />
        <input name="warning_level" value="default" />
        <input name="output_file_name" value="gutentyp.min.js" />
        <input name="code_url" value="https://raw.githubusercontent.com/losandes/gutentyp/master/source/config.js?token=933621__eyJzY29wZSI6IlJhd0Jsb2I6bG9zYW5kZXMvZ3V0ZW50eXAvbWFzdGVyL3NvdXJjZS9jb25maWcuanMiLCJleHBpcmVzIjoxNDA3OTU1OTU4fQ%3D%3D--00964a6a52e0133b785e47dba49ba04367ac3580" />
        <input name="code_url" value="https://raw.githubusercontent.com/losandes/gutentyp/master/source/dom.js?token=933621__eyJzY29wZSI6IlJhd0Jsb2I6bG9zYW5kZXMvZ3V0ZW50eXAvbWFzdGVyL3NvdXJjZS9kb20uanMiLCJleHBpcmVzIjoxNDA4MDU0MTc1fQ%3D%3D--a905eb3b922bcc591331023187be8ce1729c00e8" />
        <input name="code_url" value="https://raw.githubusercontent.com/losandes/gutentyp/master/source/pipeline.js?token=933621__eyJzY29wZSI6IlJhd0Jsb2I6bG9zYW5kZXMvZ3V0ZW50eXAvbWFzdGVyL3NvdXJjZS9waXBlbGluZS5qcyIsImV4cGlyZXMiOjE0MDc5NTYxNzR9--ba0b88a88d2cc3be6fba8951718a7ef44ab4ceda" />
        <input name="code_url" value="https://raw.githubusercontent.com/losandes/gutentyp/master/source/components.js?token=933621__eyJzY29wZSI6IlJhd0Jsb2I6bG9zYW5kZXMvZ3V0ZW50eXAvbWFzdGVyL3NvdXJjZS9jb21wb25lbnRzLmpzIiwiZXhwaXJlcyI6MTQwNzk1NjIyMn0%3D--acfae4797b505dab49783dde07200d41506045b3" />
        <input name="code_url" value="https://raw.githubusercontent.com/losandes/gutentyp/master/source/toolbar.js?token=933621__eyJzY29wZSI6IlJhd0Jsb2I6bG9zYW5kZXMvZ3V0ZW50eXAvbWFzdGVyL3NvdXJjZS90b29sYmFyLmpzIiwiZXhwaXJlcyI6MTQwNzk1NjI0M30%3D--902ae282f3a99b8705898e1b2f1dd1da2447c6da" />
        <input name="code_url" value="https://raw.githubusercontent.com/losandes/gutentyp/master/source/transformer.js?token=933621__eyJzY29wZSI6IlJhd0Jsb2I6bG9zYW5kZXMvZ3V0ZW50eXAvbWFzdGVyL3NvdXJjZS9jb3JlLmpzIiwiZXhwaXJlcyI6MTQwNzk1NjI2NX0%3D--a44401c1c602dd0e928d7c7833050679890a3513" />
        <input name="code_url" value="https://raw.githubusercontent.com/losandes/gutentyp/master/source/components.blocks.js?token=933621__eyJzY29wZSI6IlJhd0Jsb2I6bG9zYW5kZXMvZ3V0ZW50eXAvbWFzdGVyL3NvdXJjZS9jb21wb25lbnRzLmJsb2Nrcy5qcyIsImV4cGlyZXMiOjE0MDc5NTYyNzl9--312f7a9f9ec113966def4f02b58ba506ab92a05a" />
        <input name="code_url" value="https://raw.githubusercontent.com/losandes/gutentyp/master/source/components.colors.js?token=933621__eyJzY29wZSI6IlJhd0Jsb2I6bG9zYW5kZXMvZ3V0ZW50eXAvbWFzdGVyL3NvdXJjZS9jb21wb25lbnRzLmNvbG9ycy5qcyIsImV4cGlyZXMiOjE0MDc5NTYyOTV9--faae5a153bdc6723e0764fe26301529de9e6da2b" />
        <input name="code_url" value="https://raw.githubusercontent.com/losandes/gutentyp/master/source/components.emphasis.js?token=933621__eyJzY29wZSI6IlJhd0Jsb2I6bG9zYW5kZXMvZ3V0ZW50eXAvbWFzdGVyL3NvdXJjZS9jb21wb25lbnRzLmVtcGhhc2lzLmpzIiwiZXhwaXJlcyI6MTQwNzk1NjMwNn0%3D--ee74b58f0a7bc613cb95f96ed0feb32373243b50" />
        <input name="code_url" value="https://raw.githubusercontent.com/losandes/gutentyp/master/source/components.headings.js?token=933621__eyJzY29wZSI6IlJhd0Jsb2I6bG9zYW5kZXMvZ3V0ZW50eXAvbWFzdGVyL3NvdXJjZS9jb21wb25lbnRzLmhlYWRpbmdzLmpzIiwiZXhwaXJlcyI6MTQwNzk1NjMxOX0%3D--46f5a79a5e1c7f143257fc9533d3c3ff0150b6f7" />
        <input name="code_url" value="https://raw.githubusercontent.com/losandes/gutentyp/master/source/components.image.js?token=933621__eyJzY29wZSI6IlJhd0Jsb2I6bG9zYW5kZXMvZ3V0ZW50eXAvbWFzdGVyL3NvdXJjZS9jb21wb25lbnRzLmltYWdlLmpzIiwiZXhwaXJlcyI6MTQwNzk1NjMzNn0%3D--9ca78b5b2c4221e7570b3c3d8c19991828389222" />
        <input name="code_url" value="https://raw.githubusercontent.com/losandes/gutentyp/master/source/components.justification.js?token=933621__eyJzY29wZSI6IlJhd0Jsb2I6bG9zYW5kZXMvZ3V0ZW50eXAvbWFzdGVyL3NvdXJjZS9jb21wb25lbnRzLmp1c3RpZmljYXRpb24uanMiLCJleHBpcmVzIjoxNDA3OTU2MzU4fQ%3D%3D--7b7f75863edc817e98a9c9ba064afbf311a1680e" />
        <input name="code_url" value="https://raw.githubusercontent.com/losandes/gutentyp/master/source/components.link.js?token=933621__eyJzY29wZSI6IlJhd0Jsb2I6bG9zYW5kZXMvZ3V0ZW50eXAvbWFzdGVyL3NvdXJjZS9jb21wb25lbnRzLmxpbmsuanMiLCJleHBpcmVzIjoxNDA3OTU2MzcyfQ%3D%3D--8cb9225b828ef37edb994bef947ce76cd82699e5" />
        <input name="code_url" value="https://raw.githubusercontent.com/losandes/gutentyp/master/source/components.lists.js?token=933621__eyJzY29wZSI6IlJhd0Jsb2I6bG9zYW5kZXMvZ3V0ZW50eXAvbWFzdGVyL3NvdXJjZS9jb21wb25lbnRzLmxpc3RzLmpzIiwiZXhwaXJlcyI6MTQwNzk1NjM4Nn0%3D--9f4003ed4cbfdae776ec6ff0bb29d30b7dfb47a5" />
        <input name="code_url" value="https://raw.githubusercontent.com/losandes/gutentyp/master/source/components.embed.js?token=933621__eyJzY29wZSI6IlJhd0Jsb2I6bG9zYW5kZXMvZ3V0ZW50eXAvbWFzdGVyL3NvdXJjZS9jb21wb25lbnRzLmVtYmVkLmpzIiwiZXhwaXJlcyI6MTQwODA1NDIxNH0%3D--dec4688ad584f84637734d5cf6fa7e1e2c27d8ae" />
        <input name="code_url" value="https://raw.githubusercontent.com/losandes/gutentyp/master/source/gutentyp.js?token=933621__eyJzY29wZSI6IlJhd0Jsb2I6bG9zYW5kZXMvZ3V0ZW50eXAvbWFzdGVyL3NvdXJjZS9ndXRlbnR5cC5qcyIsImV4cGlyZXMiOjE0MDc5NTY0MTh9--3b7d3b1c6faca602d169359554e6fe00ab5e7dfb" />
    </form>
    <button type="button" onclick="optimize.simple();">optimize</button>
    
    <br /><br />
    <div id="compiledoutput"></div>
    <div id="compiledlink"></div>
    
    <script>
        
        (function ($) {
            var optimize = {},
                doit,
                rootUrl = 'https://closure-compiler.appspot.com';
            
            doit = function(selector) {
                var linkName = $(selector + ' [name="output_file_name"').val();
                
                $.ajax({
                    url: rootUrl + '/compile',
                    method: 'POST',
                    contentType: 'application/x-www-form-urlencoded;charset=UTF-8',
                    dataType: 'json',
                    data: $(selector).serialize()
                }).done(function (output) {
                    $('#compiledlink').html('Success! Get the optimized code here: <a href="' + rootUrl + output.outputFilePath + '" target="_blank">' + linkName + '</a>');
                    //$('#compiledoutput').html(output.compiledCode);
                })
                .fail(function (jqXHR, textStatus, errorThrown) {
                    console.log('fail', errorThrown);
                    console.log(jqXHR);
                    
                    $('#compiledoutput').html('The optimization failed :( ' + errorThrown);
                });            
            };
            
            optimize.simple = function() {
                doit('#simple');
            };
            
            optimize.whitespace = function () {
                doit('#whitespace');
            };
            
            
            window.optimize = optimize;
        })(jQuery);
    
    </script>       
    
</body>
</html>