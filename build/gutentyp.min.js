hilary.register("gutentyp::config",{init:function(){var a={prefixes:{pipeline:{beforeComponent:"gutentyp::before::",afterComponent:"gutentyp::after::"}},colors:[]};a.colors.push({title:"Black",name:"black",value:"#000000"});a.colors.push({title:"Grey",name:"grey",value:"#62615f"});a.colors.push({title:"Light Grey",name:"lightGrey",value:"#dcddd7"});a.colors.push({title:"Pink",name:"pink",value:"#cd52bd"});a.colors.push({title:"Red",name:"red",value:"#9a0000"});a.colors.push({title:"Yellow",name:"yellow",
value:"#f0ac28"});a.colors.push({title:"Green",name:"green",value:"#6bb343"});a.colors.push({title:"Blue",name:"blue",value:"#3c8bc8"});a.colors.push({title:"Purple",name:"purple",value:"#a952cd"});a.icons={code:"fa fa-code",pre:"fa fa-file-code-o",blockquote:"fa fa-quote-left",bold:"fa fa-bold",italic:"fa fa-italic",underline:"fa fa-underline",strikethrough:"fa fa-strikethrough",header:"fa fa-header",image:"fa fa-image",alignLeft:"fa fa-align-left",alignCenter:"fa fa-align-center",alignRight:"fa fa-align-right",
alignJustify:"fa fa-align-justify",indent:"fa fa-indent",outdent:"fa fa-outdent",link:"fa fa-link",unorderedList:"fa fa-list-ul",orderedList:"fa fa-list-ol"};a.cssClasses={toGutentypify:"gutentyp-ify",gutentypified:"gutentyp-ified",hasEvents:"has-events",hasToolbar:"has-toolbar",hasComponents:"has-components",editor:"gutentyp-editor",textarea:"gutentyp-textarea",toolbar:"gutentyp-toolbar",toolbarBtn:"gutentyp-toolbar-btn",toolbarBtnText:"gutentyp-toolbar-btn-text",toolbarBtnIcon:"gutentyp-toolbar-btn-icon",
hidden:"gutentyp-hidden"};var b;a.selectors={};for(b in a.cssClasses)a.cssClasses.hasOwnProperty(b)&&(a.selectors[b]="."+a.cssClasses[b]);a.selectors.newEditors=a.selectors.editor+":not("+a.selectors.hasToolbar+")";a.selectors.eventlessEditors=a.selectors.editor+":not("+a.selectors.hasEvents+")";a.selectors.newToolbars=a.selectors.toolbar+":not("+a.selectors.hasComponents+")";return a}});hilary.register("gutentyp::utils",{init:function(a,b){var g,h,c,k,f,e,m;g=function(d,b,c,l,e){d=a("<"+(d||"div")+" />");b&&null!==b&&""!==b&&d.addClass("."===b[0]?b.substr(1):b);if("undefined"!==typeof c)for(b=0;b<c.length;b++)d.attr(c[b].key,c[b].value);"undefined"!==typeof l&&d.html(l);return e?d.prop("outerHTML"):d};h=function(d,b){a(d).addClass(b)};c=function(d,a,b){var c,e,r,f;if(!d)return!1;d.isClone&&window.getSelection&&(k(d),d=window.getSelection());if(window.getSelection){if(d.getRangeAt&&
d.rangeCount){c=d.getRangeAt(0);c.deleteContents();e=document.createElement("div");e.innerHTML=a;for(a=document.createDocumentFragment();r=e.firstChild;)f=a.appendChild(r);e=a.firstChild;c.insertNode(a);f&&(c=c.cloneRange(),c.setStartAfter(f),b?c.setStartBefore(e):c.collapse(!0),d.removeAllRanges(),d.addRange(c))}}else"Control"!==d.type&&(f=d.createRange(),f.collapse(!0),d.createRange().pasteHTML(a),b&&(c=d.createRange(),c.setEndPoint("StartToStart",f),c.select()))};k=function(d){var a=document.createRange();
a.setStart(d.baseNode||d.anchorNode,d.baseOffset||d.anchorOffset);a.setEnd(d.extentNode||d.focusNode,d.extentOffset||d.focusOffset);d=window.getSelection();d.removeAllRanges();d.addRange(a)};f=function(d){var a="",b;for(b=0;b<(d||5);b++)a+="abcdefghijklmnopqrstuvwxyz".charAt(Math.floor(26*Math.random()));return a};e=function(d,b){var c=a(d)[0].getBoundingClientRect();c.offset=a(d).offset();b&&(c.moveLeft=c.left+c.width/2-e(b).width/2,c.moveTop=c.offset.top+c.height+6,c.moveRight=c.right+c.width/2-
e(b).width/2,c.moveBottom=c.offset.bottom+c.height+6);return c};m=function(d){return a(d).is("form")?a(d):a(d).closest("form")};return{makeElement:g,initializeRichTextAreas:function(){var d=[];a(b.selectors.toGutentypify).each(function(c,e){var l=a(this);l.attr("id")||l.attr("id","gutentyp-"+f());a("<div />").addClass(b.cssClasses.editor).attr("data-for",l.attr("id")).html(l.val()).attr("contenteditable",!0).insertBefore(l);l.removeClass(b.cssClasses.toGutentypify);l.addClass(b.cssClasses.hidden);
l.addClass(b.cssClasses.gutentypified);d.push(l.attr("id"))});return d},insertNewElementBefore:function(d,b,c,e){b&&""!==b&&g(d,c,e).insertBefore(a(b))},insertNewElementInto:function(d,b,c,e){b&&""!==b&&("string"!==typeof d&&d.markup?a(d.markup).appendTo(a(b)):g(d,c,e).appendTo(a(b)))},setText:function(d,b){a(d).text(b)},insertHtml:function(d,b){a(d).append(b)},addClass:h,removeClass:function(d,b){a(d).removeClass(b)},toggleClass:function(b,c){a(b).toggleClass(c)},getAttribute:function(b,c){return a(b).attr(c)},
getOrSetValue:function(b,c){return c?(a(b).val(c),c):a(b).val()},clearForm:function(b){b=m(b);b.find("input").val("");b.find("textarea").html("");b.find(".alert").addClass("hidden")},getClosest:function(b,c){return a(b).closest(c)},getClosestAdjacent:function(b,c){return a(b).siblings(c)},getNext:function(b,c){return a(b).next(c)},getPrevious:function(b,c){return a(b).prev(c)},attachEvent:function(d){if(!d||!1===a.isFunction(d.eventHandler))return!1;var c=a(d.primarySelector);if(d.secondarySelector)c.on(d.eventType,
d.secondarySelector,function(b){d.eventHandler(b.originalEvent)});else c.on(d.eventType,function(b){d.eventHandler(b.originalEvent)});h(c,b.cssClasses.hasEvents)},updateTextarea:function(b){a("textarea#"+a(b).attr("data-for")).html(a(b).html())},isFunction:function(b){return a.isFunction(b)},isObject:function(b){return a.isPlainObject(b)},isArray:function(b){return a.isArray(b)},getSelectedText:function(){var b,a,c,e;if("undefined"!==typeof window.getSelection){if(b=window.getSelection(),b.rangeCount){a=
document.createElement("div");c=0;for(e=b.rangeCount;c<e;++c)a.appendChild(b.getRangeAt(c).cloneContents());return a.innerHTML}}else if("undefined"!==typeof document.selection&&"Text"===document.selection.type)return document.selection.createRange().htmlText},replaceSelectedText:function(b){var a,c,e;if(window.getSelection&&window.getSelection().getRangeAt){a=window.getSelection().getRangeAt(0);a.deleteContents();c=document.createElement("div");c.innerHTML=b;for(b=document.createDocumentFragment();e=
c.firstChild;)b.appendChild(e);a.insertNode(b)}else document.selection&&document.selection.createRange&&(a=document.selection.createRange(),a.pasteHTML(b))},pasteHtmlAtCursor:function(b,a){var e;window.getSelection?e=window.getSelection():(e=document.selection,"Control"===e.type&&(e=void 0));c(e)},pasteHtml:c,selectRange:k,getCursorCoordinates:function(){var b=window.getSelection();return b.getRangeAt&&b.rangeCount?a.extend({isClone:!0},b):!1},getRandomString:f,getCoordinates:e,setStyle:function(b,
c){return a(b).attr("style",c)},formToJson:function(b){b=m(b);var c={},e;if(0!==b.length)return e=b.serializeArray(),a.each(e,function(){void 0!==c[this.name]?(c[this.name].push||(c[this.name]=[c[this.name]]),c[this.name].push(this.value||"")):c[this.name]=this.value||""}),b.find(':input[disabled="disabled"]').each(function(b){b=a(this);var e=b.attr("name");e&&(c[e]=b.val())}),c}}}});hilary.register("gutentyp::pipeline",{init:function(a,b){var g=[],h=[],c={},k,f={beforeAny:g,afterAny:h,registerPipelineEvent:c};c.registerBeforeAnyHandler=function(a){if(!b.isFunction(a))throw Error("Only functions can be registered as beforeAny events.");g.push(a)};c.registerAfterAnyHandler=function(a){if(!b.isFunction(a))throw Error("Only functions can be registered as afterAny events.");h.push(a)};c.registerBeforeComponentHandler=function(b,c){k(a.prefixes.pipeline.beforeComponent+b,c)};c.registerAfterComponentHandler=
function(b,c){k(a.prefixes.pipeline.afterComponent+b,c)};k=function(a,c){if(!b.isFunction(c))throw Error("Only functions can be registered as pipeline events.");f[a]=c};return f}});hilary.register("gutentyp::components",{init:function(a,b,g){var h=[],c,k,f,e,m,d,p,q,l,n={};l=function(b){if(b instanceof Array)for(var a in b)b.hasOwnProperty(a)&&l(b[a]);else h.push(b)};d=function(a){b.attachEvent({primarySelector:document,secondarySelector:"."+a.cssClass,eventType:"click",eventHandler:function(a){var c=b.getClosest(a.target,"button"),c=b.getNext(c,".gutentyp-toolbar-group");a=b.getCoordinates(a.target,c);var d;d="left: "+a.moveLeft;d+="; top: "+a.moveTop;b.setStyle(c,d);b.toggleClass(c,
"active")}})};p=function(a,c){b.attachEvent({primarySelector:document,secondarySelector:"."+a.cssClass+"-form .btn-success",eventType:"click",eventHandler:function(d){var e=b.formToJson(d.target),f;if(b.isFunction(c)&&!c(d,e))return!1;f=b.getClosest(d.target,".gutentyp-toolbar-group");b.toggleClass(f,"active");d.fromGutenForm=!0;a.execute(d,e)}})};q=function(a){b.attachEvent({primarySelector:document,secondarySelector:"."+a.cssClass+"-form .btn-cancel",eventType:"click",eventHandler:function(a){var c=
b.getClosest(a.target,".gutentyp-toolbar-group");a=b.getClosestAdjacent(a.target,".alert");b.toggleClass(c,"active");b.clearForm(c);b.addClass(a,"hidden")}})};c=function(a,c){var d=0,g="",l={names:[]},h={};for(d;d<c.length;d++){var n=b.getRandomString(),g=g+k(c[d],n);f(l,c[d],n)}0<l.names.length&&(h.validate=e(l));return m(a,g,h)};k=function(a,c){var d="",e;if(!a||!a.elementType||!a.name)return"";a.validation&&a.validation.message&&(e="alert alert-warning hidden "+c,a.validation.cssClass&&(e+=" "+
a.validation.cssClass),d+=b.makeElement("div",e,void 0,a.validation.message,!0));a.label&&(d+=b.makeElement("label",void 0,void 0,a.label,!0));e=b.isArray(a.attributes)?a.attributes:[];e.push({key:"name",value:a.name});"input"===a.elementType&&e.push({key:"type",value:a.inputType||"text"});d+=b.makeElement(a.elementType,a.cssClass||void 0,e,a.label,!0);return d+"<br />"};f=function(a,c,d){c.name&&c.validation&&b.isFunction(c.validation.validate)&&(a.names.push(c.name),a[c.name]={messageId:d,validate:c.validation.validate})};
e=function(a){return function(c,d){var e,f,g=!0;for(e=0;e<a.names.length;e++)(f=a[a.names[e]])&&b.isFunction(f.validate)&&f.messageId&&!f.validate(c,d)&&(g=!1,f=b.getClosestAdjacent(c.target,"."+f.messageId),f.removeClass("hidden"));return g}};m=function(b,c,e){n[b.pipelineName]||(d(b),p(b,e&&e.validate),q(b),n[b.pipelineName]=!0);return'<button type="button" class="'+b.cssClass+'"><i class="'+a.cssClasses.toolbarBtnIcon+" "+b.icon+'"></i><span class="'+a.cssClasses.toolbarBtnText+' sr-only">'+b.title+
'</span></button><div class="gutentyp-toolbar-group gutentyp-toolbar-arrow-over '+b.cssClass+'-form"><form>'+c+'<button class="btn btn-success" type="button">Add</button><button class="btn btn-cancel" type="button">Cancel</button></form></div>'};return{components:h,makeComponent:function(d){var e={};e.title=d.title;e.cssClass=d.cssClass||d.pipelineName;e.icon=d.icon||void 0;e.textClass=d.textClass+" "+a.cssClasses.toolbarBtnText||a.cssClasses.toolbarBtnText;e.displayHandler=d.displayHandler;e.group=
d.group||void 0;e.execute=function(c,e){var f,l=a.prefixes.pipeline.beforeComponent+d.pipelineName,h=a.prefixes.pipeline.afterComponent+d.pipelineName,k=b.getSelectedText();c.gutenSelection=b.getCursorCoordinates();c.gutenSelection.text=k;for(f=0;f<g.beforeAny.length;f++)if(b.isFunction(g.beforeAny[f]))g.beforeAny[f](c,k,e);if(b.isFunction(g[l]))g[l](c,k,e);b.isFunction(d.func)&&(f=d.func(c,k,e),b.isObject(f)?k&&0<k.length&&f?b.replaceSelectedText(f.markup):f.selectionCoordinates?b.pasteHtml(f.selectionCoordinates,
f.markup):b.insertHtml(f.gutenArea,f.markup):k&&0<k.length&&f?b.replaceSelectedText(f):f&&b.pasteHtmlAtCursor(f));for(f=0;f<g.afterAny.length;f++)if(b.isFunction(g.afterAny[f]))g.afterAny[f](c,k,e);if(b.isFunction(g[h]))g[h](c,k,e)};d.before&&g.registerPipelineEvent.registerBeforeComponentHandler(d.pipelineName,d.before);d.after&&g.registerPipelineEvent.registerAfterComponentHandler(d.pipelineName,d.after);d.form&&!e.displayHandler&&(e.displayHandler=function(){return c(e,d.form)});return e},makeComponentForm:m,
addComponent:l}}});hilary.register("gutentyp::toolbar",{init:function(a,b,g){return{build:function(){var h=g.components,c,k,f,e={},m,d,p,q;k=function(b){return a.selectors.toolbar+" ."+b.cssClass+":not("+a.selectors.hasEvents+")"};f=function(b,c){var d;d="gutentyp-component "+b.cssClass;c&&(d+=" "+c);return'<button type="button" class="'+d+'"><i class="'+a.cssClasses.toolbarBtnIcon+" "+b.icon+'"></i><span class="'+b.textClass+'">'+b.title+"</span></button>"};q=function(c){b.insertNewElementInto({markup:f(c)},a.selectors.newToolbars);
b.attachEvent({primarySelector:k(c),eventType:"click",eventHandler:c.execute})};m=function(c){b.insertHtml(a.selectors.newToolbars,c.displayHandler());b.attachEvent({primarySelector:k(c),eventType:"click",eventHandler:c.execute})};p=function(c){var d=e[c.group.name]={components:[c]};d.toggleId=b.getRandomString();d.menuId=b.getRandomString();d.toggleSelector="."+d.toggleId;d.menuSelector="."+d.menuId;b.insertNewElementInto({markup:f(c.group,d.toggleId)},a.selectors.newToolbars);b.insertNewElementInto({markup:'<div class="'+
d.menuId+" gutentyp-toolbar-group gutentyp-toolbar-arrow-"+(c.group.arrow||"over")+'"><ul></ul></div>'},a.selectors.newToolbars);b.attachEvent({primarySelector:d.toggleSelector,eventType:"click",eventHandler:function(a){a=b.getCoordinates(a.target,d.menuSelector);var c;c="left: "+a.moveLeft;c+="; top: "+a.moveTop;b.setStyle(d.menuSelector,c);b.toggleClass(".gutentyp-toolbar-group.active:not("+d.menuSelector+")","active");b.toggleClass(d.menuSelector,"active")}});return d};d=function(a){var c=b.getRandomString(),
d="."+c,g;e[a.group.name]?(g=e[a.group.name],e[a.group.name].components.push(a)):g=p(a);a.displayHandler?b.insertNewElementInto({markup:"<li>"+a.displayHandler(c)+"</li>"},g.menuSelector+" ul"):b.insertNewElementInto({markup:"<li>"+f(a,c)+"</li>"},g.menuSelector+" ul");b.attachEvent({primarySelector:d,eventType:"click",eventHandler:function(c,d){a.execute(c,d);b.toggleClass(g.menuSelector,"active")}})};b.insertNewElementBefore("div",a.selectors.newEditors,a.selectors.toolbar);for(c=0;c<h.length;c++)void 0!==
h[c].group?d(h[c]):b.isFunction(h[c].displayHandler)?m(h[c]):q(h[c]);b.addClass(a.selectors.newEditors,a.cssClasses.hasToolbar);b.addClass(a.selectors.newToolbars,a.cssClasses.hasComponents)}}}});hilary.register("gutentyp::core",{init:function(a,b,g,h){return{load:function(){b.initializeRichTextAreas();h.build();b.attachEvent({primarySelector:a.selectors.eventlessEditors,eventType:"focusout",eventHandler:function(a){b.updateTextarea(a.currentTarget)}});b.addClass(a.selectors.editor,a.cssClasses.hasEvents)}}}});hilary.register("gutentyp::components::blocks",{init:function(a,b){var g,h,c;h=a.makeComponent({title:"Code Block",cssClass:"gutentyp-code-block",pipelineName:"code::block",icon:b.icons.pre,textClass:"sr-only",func:function(b,a){return'<pre class="prettyprint linenums">'+a+"</pre>"}});g=a.makeComponent({title:"Code",cssClass:"gutentyp-code",pipelineName:"code",icon:b.icons.code,textClass:"sr-only",func:function(b,a){return"<code>"+a+"</code>"}});c=a.makeComponent({title:"Quote",cssClass:"gutentyp-quote",
pipelineName:"quote",icon:b.icons.blockquote,textClass:"sr-only",func:function(b,a){return"<blockquote>"+a+"</blockquote>"}});a.addComponent([g,h,c])}});hilary.register("gutentyp::components::colors",{init:function(a,b){var g,h=b.colors,c=0,k;k=a.makeComponent({title:"Colors",cssClass:"gutentyp-colors",pipelineName:"colors",icon:"color-block color-pink",textClass:"sr-only"});k.name="colors";k.arrow="over";g=function(b){a.addComponent(a.makeComponent({title:b.title,cssClass:"gutentyp-"+b.name,pipelineName:"color"+b.Title,func:function(a,c){document.execCommand("forecolor",!1,b.value);return!1},displayHandler:function(a){return'<button class="'+a+'"><span class="color-block" style="background-color: '+
b.value+'"></span></button>'},group:k}))};for(c;c<h.length;c++)g(h[c])}});hilary.register("gutentyp::components::emphasis",{init:function(a,b){var g,h,c,k;g=a.makeComponent({title:"Bold",cssClass:"gutentyp-bold",pipelineName:"bold",icon:b.icons.bold,textClass:"sr-only",func:function(b,a){document.execCommand("bold",!1,null);return!1}});h=a.makeComponent({title:"Italic",cssClass:"gutentyp-italic",pipelineName:"italic",icon:b.icons.italic,textClass:"sr-only",func:function(b,a){document.execCommand("italic",!1,null);return!1}});c=a.makeComponent({title:"Underline",cssClass:"gutentyp-underline",
pipelineName:"underline",icon:b.icons.underline,textClass:"sr-only",func:function(b,a){document.execCommand("underline",!1,null);return!1}});k=a.makeComponent({title:"Strike Through",cssClass:"gutentyp-strike",pipelineName:"strike",icon:b.icons.strikethrough,textClass:"sr-only",func:function(b,a){document.execCommand("strikeThrough",!1,null);return!1}});a.addComponent([g,h,c,k])}});hilary.register("gutentyp::components::headings",{init:function(a,b){var g,h,c,k,f,e;e=a.makeComponent({title:"Headings",cssClass:"gutentyp-headings",pipelineName:"headings",icon:b.icons.header,textClass:"sr-only"});e.name="headings";e.arrow="over";g=a.makeComponent({title:"h1",cssClass:"gutentyp-h1",pipelineName:"h1",func:function(b,a){return"<h1>"+a+"</h1>"},group:e});h=a.makeComponent({title:"h2",cssClass:"gutentyp-h2",pipelineName:"h2",func:function(b,a){return"<h2>"+a+"</h2>"},group:e});c=a.makeComponent({title:"h3",
cssClass:"gutentyp-h3",pipelineName:"h3",func:function(b,a){return"<h3>"+a+"</h3>"},group:e});k=a.makeComponent({title:"h4",cssClass:"gutentyp-h4",pipelineName:"h4",func:function(b,a){return"<h4>"+a+"</h4>"},group:e});f=a.makeComponent({title:"h5",cssClass:"gutentyp-h5",pipelineName:"h5",func:function(b,a){return"<h5>"+a+"</h5>"},group:e});e=a.makeComponent({title:"h6",cssClass:"gutentyp-h6",pipelineName:"h6",func:function(b,a){return"<h6>"+a+"</h6>"},group:e});a.addComponent([g,h,c,k,f,e])}});hilary.register("gutentyp::components::image",{init:function(a,b,g){var h;h=a.makeComponent({title:"Add Image",cssClass:"gutentyp-image",pipelineName:"image",icon:b.icons.image,textClass:"sr-only",func:function(b,a){var f=b.target,e=g.getAttribute(f,"data-src"),h=g.getAttribute(f,"data-alt"),d=g.getAttribute(f,"data-width"),f=g.getAttribute(f,"data-height"),h=h||0<a.length?a:e;if(!e)throw Error("the data-src attribute was not set on the target element.");return'<img src="'+e+'" alt="'+h+'" '+(d?'width="'+
d+'"':"")+(f?'height="'+f+'"':"")+"/>"}});h.displayHandler=function(){return'<button type="button" class="'+h.cssClass+'" data-src="http://thissongissick.com/wp-content/uploads/2013/03/Daft-Punk-Helmets-Columbia-Album-artwork.jpg" data-alt="daft"><i class="'+b.cssClasses.toolbarBtnIcon+' fa fa-image"></i><span class="'+b.cssClasses.toolbarBtnText+' sr-only">Add Image</span></button>'};a.addComponent(h)}});hilary.register("gutentyp::components::justification",{init:function(a,b){var g,h,c,k,f,e;e=a.makeComponent({title:"Alignment",cssClass:"gutentyp-align",pipelineName:"alignment",icon:b.icons.alignLeft,textClass:"sr-only"});e.name="alignment";e.arrow="over";g=a.makeComponent({title:"Align Left",cssClass:"gutentyp-align-left",pipelineName:"alignLeft",icon:b.icons.alignLeft,textClass:"sr-only",func:function(b,a){document.execCommand("justifyLeft",!1,null);return!1},group:e});h=a.makeComponent({title:"Align Center",
cssClass:"gutentyp-align-center",pipelineName:"alignCenter",icon:b.icons.alignCenter,textClass:"sr-only",func:function(b,a){document.execCommand("justifyCenter",!1,null);return!1},group:e});c=a.makeComponent({title:"Align Right",cssClass:"gutentyp-align-right",pipelineName:"alignRight",icon:b.icons.alignRight,textClass:"sr-only",func:function(b,a){document.execCommand("justifyRight",!1,null);return!1},group:e});k=a.makeComponent({title:"Justify",cssClass:"gutentyp-align-justify",pipelineName:"alignJustify",
icon:b.icons.alignJustify,textClass:"sr-only",func:function(b,a){document.execCommand("justifyFull",!1,null);return!1},group:e});f=a.makeComponent({title:"Indent",cssClass:"gutentyp-indent",pipelineName:"indent",icon:b.icons.indent,textClass:"sr-only",func:function(b,a){document.execCommand("indent",!1,null);return!1},group:e});e=a.makeComponent({title:"Outdent",cssClass:"gutentyp-outdent",pipelineName:"outdent",icon:b.icons.outdent,textClass:"sr-only",func:function(b,a){document.execCommand("outdent",
!1,null);return!1},group:e});a.addComponent([g,h,c,k,f,e])}});hilary.register("gutentyp::components::link",{init:function(a,b,g){var h,c;h=a.makeComponent({title:"Add Link",cssClass:"gutentyp-link",pipelineName:"link",icon:b.icons.link,textClass:"sr-only",func:function(a,f,e){if(!a.fromGutenForm)return c=a.gutenSelection,!1;var h=g.getClosestAdjacent(g.getClosest(a.target,b.selectors.toolbar),b.selectors.editor).first();if(!e||!e.href)return!1;f='<a href="'+e.href+'" target="_blank">'+(f&&0<f.length?f:c&&c.text&&0<c.text.length?c.text:e.href)+"</a>";g.clearForm(a.target);
return{markup:f,selectionCoordinates:c,gutenArea:h}},form:[{name:"href",label:"Url",elementType:"input",type:"text",attributes:[{key:"data-test",value:"test"}],cssClass:"test",validation:{message:"Please enter a valid Url.",cssClass:"link-url",validate:function(a,b){return!b||!b.href||0>b.href.indexOf("://")?!1:!0}}}]});a.addComponent(h)}});hilary.register("gutentyp::components::lists",{init:function(a,b){var g,h;g=a.makeComponent({title:"Unordered List",cssClass:"gutentyp-list-unordered",pipelineName:"list::unordered",icon:b.icons.unorderedList,textClass:"sr-only",func:function(a,b){document.execCommand("insertUnorderedList",!1,null);return!1}});h=a.makeComponent({title:"Ordered List",cssClass:"gutentyp-list-ordered",pipelineName:"list::ordered",icon:b.icons.orderedList,textClass:"sr-only",func:function(a,b){document.execCommand("insertOrderedList",
!1,null);return!1}});a.addComponent([g,h])}});hilary.use([hilary,jQuery,window],function(a,b,g,h){h.gutentyp=function(){var a={},h,f,e,m,d,p,q,l,n;f=b.createChildContainer();n=function(a){(a=f.tryResolve(a))&&a.init(p,e,m)};h=function(){e=f.resolve("gutentyp::config").init();a.config=e;m=f.resolve("gutentyp::utils").init(g,e);d=f.resolve("gutentyp::pipeline").init(e,m);a.pipeline=d.registerPipelineEvent;p=f.resolve("gutentyp::components").init(e,m,d);n("gutentyp::components::emphasis");n("gutentyp::components::colors");n("gutentyp::components::headings");
n("gutentyp::components::justification");n("gutentyp::components::lists");n("gutentyp::components::blocks");n("gutentyp::components::link");n("gutentyp::components::image")};h();a.init=function(){q=f.resolve("gutentyp::toolbar").init(e,m,p);l=f.resolve("gutentyp::core").init(e,m,p,q);l.load();return a};a.registerComponent=function(b){b=p.makeComponent(b);p.addComponent(b);return a};a.overrideModule=function(b,d){f.register(b,d);h();return a};a.overrideConfig=function(b){return a.overrideModule("gutentyp::config",
b)};a.overrideUtils=function(b){return a.overrideModule("gutentyp::utils",b)};a.overridePipeline=function(b){return a.overrideModule("gutentyp::pipeline",b)};a.overrideComponents=function(b){return a.overrideModule("gutentyp::components",b)};a.overrideToolbar=function(b){f.register("gutentyp::toolbar",b);return a};a.overrideCore=function(b){f.register("gutentyp::core",b);return a};a.ifYouReallyKnowWhatYourDoing={IoC:f,prep:h};return a}});