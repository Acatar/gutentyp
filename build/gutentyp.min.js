hilary.register("gutentyp::config",{init:function(){var a={prefixes:{pipeline:{beforeComponent:"gutentyp::before::",afterComponent:"gutentyp::after::"}},attributes:{formBtn:{key:"data-form-btn",value:"true"}},colors:[]};a.colors.push({title:"Black",name:"black",value:"#000000"});a.colors.push({title:"Grey",name:"grey",value:"#62615f"});a.colors.push({title:"Light Grey",name:"lightGrey",value:"#dcddd7"});a.colors.push({title:"Pink",name:"pink",value:"#cd52bd"});a.colors.push({title:"Red",name:"red",
value:"#9a0000"});a.colors.push({title:"Yellow",name:"yellow",value:"#f0ac28"});a.colors.push({title:"Green",name:"green",value:"#6bb343"});a.colors.push({title:"Blue",name:"blue",value:"#3c8bc8"});a.colors.push({title:"Purple",name:"purple",value:"#a952cd"});a.icons={code:"fa fa-code",pre:"fa fa-file-code-o",blockquote:"fa fa-quote-left",bold:"fa fa-bold",italic:"fa fa-italic",underline:"fa fa-underline",strikethrough:"fa fa-strikethrough",header:"fa fa-header",image:"fa fa-image",alignLeft:"fa fa-align-left",
alignCenter:"fa fa-align-center",alignRight:"fa fa-align-right",alignJustify:"fa fa-align-justify",indent:"fa fa-indent",outdent:"fa fa-outdent",link:"fa fa-link",unorderedList:"fa fa-list-ul",orderedList:"fa fa-list-ol"};a.cssClasses={toGutentypify:"gutentyp-ify",gutentypified:"gutentyp-ified",hasEvents:"has-events",hasToolbar:"has-toolbar",hasComponents:"has-components",editor:"gutentyp-editor",textarea:"gutentyp-textarea",toolbar:"gutentyp-toolbar",toolbarBtn:"gutentyp-toolbar-btn",toolbarBtnText:"gutentyp-toolbar-btn-text",
toolbarBtnIcon:"gutentyp-toolbar-btn-icon",hidden:"gutentyp-hidden"};a.autoCreateSelectors=function(){var b;a.selectors={};for(b in a.cssClasses)a.cssClasses.hasOwnProperty(b)&&(a.selectors[b]="."+a.cssClasses[b]);a.selectors.newEditors=a.selectors.editor+":not("+a.selectors.hasToolbar+")";a.selectors.eventlessEditors=a.selectors.editor+":not("+a.selectors.hasEvents+")";a.selectors.newToolbars=a.selectors.toolbar+":not("+a.selectors.hasComponents+")"};a.autoCreateSelectors();return a}});hilary.register("gutentyp::utils",{init:function(a,b){var h,g,d,m,l,e,p,q,r,s,n;h=function(c,f,k,b,d){c=a("<"+(c||"div")+" />");f&&null!==f&&""!==f&&c.addClass("."===f[0]?f.substr(1):f);if("undefined"!==typeof k)for(f=0;f<k.length;f++)c.attr(k[f].key,k[f].value);"undefined"!==typeof b&&c.html(b);return d?c.prop("outerHTML"):c};g=function(c,f){a(c).append(f)};d=function(c,f){a(c).addClass(f)};m=function(c,f){return a(c).closest(f)};l=function(c,f){return a(c).siblings(f)};e=function(c,f,k){var a,b,
d,e;if(!c)return!1;c.isClone&&window.getSelection&&(p(c),c=window.getSelection());if(window.getSelection){if(c.getRangeAt&&c.rangeCount){a=c.getRangeAt(0);a.deleteContents();b=document.createElement("div");b.innerHTML=f;for(f=document.createDocumentFragment();d=b.firstChild;)e=f.appendChild(d);b=f.firstChild;a.insertNode(f);e&&(a=a.cloneRange(),a.setStartAfter(e),k?a.setStartBefore(b):a.collapse(!0),c.removeAllRanges(),c.addRange(a))}}else"Control"!==c.type&&(e=c.createRange(),e.collapse(!0),c.createRange().pasteHTML(f),
k&&(a=c.createRange(),a.setEndPoint("StartToStart",e),a.select()))};p=function(c){try{var a,k=document.createRange();k.setStart(c.baseNode||c.anchorNode,c.baseOffset||c.anchorOffset);k.setEnd(c.extentNode||c.focusNode,c.extentOffset||c.focusOffset);a=window.getSelection();a.removeAllRanges();a.addRange(k)}catch(b){console.log(b)}};q=function(c){var a;c&&c.anchorNode&&(a=c.anchorNode);!a&&window.getSelection&&(c=window.getSelection(),a=c.anchorNode);!a&&document.selection&&(c=document.selection,c=
c.getRangeAt?c.getRangeAt(0):c.createRange(),a=c.commonAncestorContainer?c.commonAncestorContainer:c.parentElement?c.parentElement():c.item(0));if(a)return"#text"===a.nodeName?a.parentNode:a};r=function(c){var a="",k;for(k=0;k<(c||5);k++)a+="abcdefghijklmnopqrstuvwxyz".charAt(Math.floor(26*Math.random()));return a};s=function(c,f,k){c=a(c);k=c.position();k.width=c.width();k.height=c.height();f&&(k.moveLeft=k.left+k.width/2-s(f).width/2,k.moveTop=k.top+k.height+6,k.moveRight=k.right+k.width/2-s(f).width/
2,k.moveBottom=k.bottom+k.height+6);return k};n=function(c){return a(c).is("form")?a(c):a(c).closest("form")};return{makeElement:h,initializeRichTextAreas:function(){var c=[];a(b.selectors.toGutentypify).each(function(f,k){var d=a(this);d.attr("id")||d.attr("id","gutentyp-"+r());a("<div />").addClass(b.cssClasses.editor).attr("data-for",d.attr("id")).html(d.val()).attr("contenteditable",!0).insertBefore(d);d.removeClass(b.cssClasses.toGutentypify);d.addClass(b.cssClasses.hidden);d.addClass(b.cssClasses.gutentypified);
c.push(d.attr("id"))});return c},insertNewElementBefore:function(c,f,k,b){f&&""!==f&&h(c,k,b).insertBefore(a(f))},insertNewElementInto:function(c,b,k,d){b&&""!==b&&("string"!==typeof c&&c.markup?a(c.markup).appendTo(a(b)):h(c,k,d).appendTo(a(b)))},setText:function(c,b){a(c).text(b)},insertHtml:g,addClass:d,removeClass:function(c,b){a(c).removeClass(b)},toggleClass:function(c,b){a(c).toggleClass(b)},getAttribute:function(c,b){return a(c).attr(b)},getOrSetValue:function(c,b){return b?(a(c).val(b),b):
a(c).val()},clearForm:function(c){c=n(c);c.find("input").val("");c.find("textarea").html("");c.find(".alert").addClass("hidden")},getClosest:m,getClosestAdjacent:l,getNext:function(c,b){return a(c).next(b)},getPrevious:function(c,b){return a(c).prev(b)},attachEvent:function(c){if(!c||!1===a.isFunction(c.eventHandler))return!1;var f=a(c.primarySelector);if(c.secondarySelector)f.on(c.eventType,c.secondarySelector,function(a){c.eventHandler(a.originalEvent)});else f.on(c.eventType,function(a){c.eventHandler(a.originalEvent)});
d(f,b.cssClasses.hasEvents)},updateTextarea:function(c){a("textarea#"+a(c).attr("data-for")).html(a(c).html())},isFunction:function(c){return a.isFunction(c)},isObject:function(c){return a.isPlainObject(c)},isArray:function(c){return a.isArray(c)},getSelectedText:function(){var c,a,b,d;if("undefined"!==typeof window.getSelection){if(c=window.getSelection(),c.rangeCount){a=document.createElement("div");b=0;for(d=c.rangeCount;b<d;++b)a.appendChild(c.getRangeAt(b).cloneContents());return a.innerHTML}}else if("undefined"!==
typeof document.selection&&"Text"===document.selection.type)return document.selection.createRange().htmlText},replaceSelectedText:function(a){var b,k,d;if(window.getSelection&&window.getSelection().getRangeAt){b=window.getSelection().getRangeAt(0);b.deleteContents();k=document.createElement("div");k.innerHTML=a;for(a=document.createDocumentFragment();d=k.firstChild;)a.appendChild(d);b.insertNode(a)}else document.selection&&document.selection.createRange&&(b=document.selection.createRange(),b.pasteHTML(a))},
pasteHtmlAtCursor:function(c,d,k){window.getSelection?d=window.getSelection():(d=document.selection,"Control"===d.type&&(d=void 0));k&&0===a(q()).closest(b.selectors.editor).length&&(k=l(m(k.target,b.selectors.toolbar),b.selectors.editor).first(),g(k,c));e(d)},pasteHtml:e,selectRange:p,selectionIsInEditor:function(c){return 0<a(q(c)).closest(b.selectors.editor).length},getCursorCoordinates:function(){var c=window.getSelection();return c.getRangeAt&&c.rangeCount?a.extend({isClone:!0},c):!1},getRandomString:r,
getCoordinates:s,setStyle:function(c,b){return a(c).attr("style",b)},formToJson:function(c){c=n(c);var b={},k;if(0!==c.length)return k=c.serializeArray(),a.each(k,function(){void 0!==b[this.name]?(b[this.name].push||(b[this.name]=[b[this.name]]),b[this.name].push(this.value||"")):b[this.name]=this.value||""}),c.find(':input[disabled="disabled"]').each(function(c){c=a(this);var k=c.attr("name");k&&(b[k]=c.val())}),b}}}});hilary.register("gutentyp::pipeline",{init:function(a,b){var h=[],g=[],d={},m,l={beforeAny:h,afterAny:g,registerPipelineEvent:d};d.registerBeforeAnyHandler=function(a){if(!b.isFunction(a))throw Error("Only functions can be registered as beforeAny events.");h.push(a)};d.registerAfterAnyHandler=function(a){if(!b.isFunction(a))throw Error("Only functions can be registered as afterAny events.");g.push(a)};d.registerBeforeComponentHandler=function(b,d){m(a.prefixes.pipeline.beforeComponent+b,d)};d.registerAfterComponentHandler=
function(b,d){m(a.prefixes.pipeline.afterComponent+b,d)};m=function(a,d){if(!b.isFunction(d))throw Error("Only functions can be registered as pipeline events.");l[a]=d};return l}});hilary.register("gutentyp::components",{init:function(a,b,h){var g=[],d,m,l,e,p,q,r,s,n,c={},f;n=function(a){if(a instanceof Array)for(var b in a)a.hasOwnProperty(b)&&n(a[b]);else g.push(a)};q=function(a){b.attachEvent({primarySelector:document,secondarySelector:"."+a.cssClass,eventType:"click",eventHandler:function(a){var c=b.getClosest(a.target,"button"),c=b.getNext(c,".gutentyp-toolbar-group");a=b.getCoordinates(a.target,c);var k;k="left: "+a.moveLeft+"px";k+="; top: "+a.moveTop+"px";b.setStyle(c,
k);b.toggleClass(c,"active")}})};r=function(a,c){b.attachEvent({primarySelector:document,secondarySelector:"."+a.cssClass+"-form .btn-success",eventType:"click",eventHandler:function(d){var f=b.formToJson(d.target),e;if(b.isFunction(c)&&!c(d,f))return!1;e=b.getClosest(d.target,".gutentyp-toolbar-group");b.toggleClass(e,"active");d.fromGutenForm=!0;a.execute(d,f)}})};s=function(a){b.attachEvent({primarySelector:document,secondarySelector:"."+a.cssClass+"-form .btn-cancel",eventType:"click",eventHandler:function(a){var c=
b.getClosest(a.target,".gutentyp-toolbar-group");a=b.getClosestAdjacent(a.target,".alert");b.toggleClass(c,"active");b.clearForm(c);b.addClass(a,"hidden")}})};d=function(a,c){var d=c.fields,f=0,g="",h={names:[]},n={};for(f;f<d.length;f++){var q=b.getRandomString(),g=g+m(d[f],q);l(h,d[f],q)}0<h.names.length&&(n.validate=e(h));return p(a,g,n)};m=function(a,c){var d="",f;if(!a||!a.elementType||!a.name)return"";a.validation&&a.validation.message&&(f="alert alert-warning hidden "+c,a.validation.cssClass&&
(f+=" "+a.validation.cssClass),d+=b.makeElement("div",f,void 0,a.validation.message,!0));a.label&&(d+=b.makeElement("label",void 0,void 0,a.label,!0));f=b.isArray(a.attributes)?a.attributes:[];f.push({key:"name",value:a.name});"input"===a.elementType&&f.push({key:"type",value:a.inputType||"text"});d+=b.makeElement(a.elementType,a.cssClass||void 0,f,a.label,!0);return d+"<br />"};l=function(a,c,d){c.name&&c.validation&&b.isFunction(c.validation.validate)&&(a.names.push(c.name),a[c.name]={messageId:d,
validate:c.validation.validate})};e=function(a){return function(c,d){var f,e,g=!0;for(f=0;f<a.names.length;f++)(e=a[a.names[f]])&&b.isFunction(e.validate)&&e.messageId&&!e.validate(c,d)&&(g=!1,e=b.getClosestAdjacent(c.target,"."+e.messageId),e.removeClass("hidden"));return g}};p=function(b,d,f){c[b.pipelineName]||(q(b),r(b,f&&f.validate),s(b),c[b.pipelineName]=!0);return'<button type="button" class="'+b.cssClass+'" data-form-btn="true"><i class="'+a.cssClasses.toolbarBtnIcon+" "+b.icon+'"></i><span class="'+
a.cssClasses.toolbarBtnText+' sr-only">'+b.title+'</span></button><div class="gutentyp-toolbar-group gutentyp-toolbar-arrow-over '+b.cssClass+'-form"><form>'+d+'<button class="btn btn-success" type="button">Add</button><button class="btn btn-cancel" type="button">Cancel</button></form></div>'};return{components:g,makeComponent:function(c){var e={};e.title=c.title;e.cssClass=c.cssClass||c.pipelineName;e.pipelineName=c.pipelineName;e.icon=c.icon||void 0;e.textClass=c.textClass+" "+a.cssClasses.toolbarBtnText||
a.cssClasses.toolbarBtnText;e.displayHandler=c.displayHandler;e.group=c.group||void 0;e.execute=function(d,e){var g,m=a.prefixes.pipeline.beforeComponent+c.pipelineName,l=a.prefixes.pipeline.afterComponent+c.pipelineName,n=b.getSelectedText();if(b.getAttribute(b.getClosest(d.target,"button"),a.attributes.formBtn.key))f=b.getCursorCoordinates(),f.text=n,f.isInEditor=b.selectionIsInEditor(f),d.gutenSelection=f;else{for(g=0;g<h.beforeAny.length;g++)if(b.isFunction(h.beforeAny[g]))h.beforeAny[g](d,n,
e);if(b.isFunction(h[m]))h[m](d,n,e);b.isFunction(c.func)&&(g=c.func(d,n||f.text,e),n&&0<n.length&&g?b.replaceSelectedText(g):f&&f.isInEditor?b.pasteHtml(f,g):g&&b.pasteHtmlAtCursor(g,!1,d));for(g=0;g<h.afterAny.length;g++)if(b.isFunction(h.afterAny[g]))h.afterAny[g](d,n,e);if(b.isFunction(h[l]))h[l](d,n,e)}};c.before&&h.registerPipelineEvent.registerBeforeComponentHandler(c.pipelineName,c.before);c.after&&h.registerPipelineEvent.registerAfterComponentHandler(c.pipelineName,c.after);c.form&&!e.displayHandler&&
(e.displayHandler=function(){return d(e,c.form)});f=void 0;return e},makeComponentForm:p,addComponent:n}}});hilary.register("gutentyp::toolbar",{init:function(a,b,h){return{build:function(){var g=h.components,d,m,l,e={},p,q,r,s;m=function(b){return a.selectors.toolbar+" ."+b.cssClass+":not("+a.selectors.hasEvents+")"};l=function(b,c){var d;d="gutentyp-component "+b.cssClass;c&&(d+=" "+c);return'<button type="button" class="'+d+'"><i class="'+a.cssClasses.toolbarBtnIcon+" "+b.icon+'"></i><span class="'+b.textClass+'">'+b.title+"</span></button>"};s=function(d){b.insertNewElementInto({markup:l(d)},a.selectors.newToolbars);
b.attachEvent({primarySelector:m(d),eventType:"click",eventHandler:d.execute})};p=function(d){b.insertHtml(a.selectors.newToolbars,d.displayHandler());b.attachEvent({primarySelector:m(d),eventType:"click",eventHandler:d.execute})};r=function(d){var c=e[d.group.name]={components:[d]};c.toggleId=b.getRandomString();c.menuId=b.getRandomString();c.toggleSelector="."+c.toggleId;c.menuSelector="."+c.menuId;b.insertNewElementInto({markup:l(d.group,c.toggleId)},a.selectors.newToolbars);b.insertNewElementInto({markup:'<div class="'+
c.menuId+" gutentyp-toolbar-group gutentyp-toolbar-arrow-"+(d.group.arrow||"over")+'"><ul></ul></div>'},a.selectors.newToolbars);b.attachEvent({primarySelector:c.toggleSelector,eventType:"click",eventHandler:function(a){a=b.getCoordinates(a.target,c.menuSelector);var d;d="left: "+a.moveLeft+"px";d+="; top: "+a.moveTop+"px";b.setStyle(c.menuSelector,d);b.toggleClass(".gutentyp-toolbar-group.active:not("+c.menuSelector+")","active");b.toggleClass(c.menuSelector,"active")}});return c};q=function(a){var c=
b.getRandomString(),d="."+c,g;e[a.group.name]?(g=e[a.group.name],e[a.group.name].components.push(a)):g=r(a);a.displayHandler?b.insertNewElementInto({markup:"<li>"+a.displayHandler(c)+"</li>"},g.menuSelector+" ul"):b.insertNewElementInto({markup:"<li>"+l(a,c)+"</li>"},g.menuSelector+" ul");b.attachEvent({primarySelector:d,eventType:"click",eventHandler:function(c,d){a.execute(c,d);b.toggleClass(g.menuSelector,"active")}})};b.insertNewElementBefore("div",a.selectors.newEditors,a.selectors.toolbar);
for(d=0;d<g.length;d++)void 0!==g[d].group?q(g[d]):b.isFunction(g[d].displayHandler)?p(g[d]):s(g[d]);b.addClass(a.selectors.newEditors,a.cssClasses.hasToolbar);b.addClass(a.selectors.newToolbars,a.cssClasses.hasComponents)}}}});hilary.register("gutentyp::core",{init:function(a,b,h,g){return{load:function(){b.initializeRichTextAreas();g.build();b.attachEvent({primarySelector:a.selectors.eventlessEditors,eventType:"focusout",eventHandler:function(a){b.updateTextarea(a.currentTarget)}});b.addClass(a.selectors.editor,a.cssClasses.hasEvents)}}}});hilary.register("gutentyp::components::blocks",{init:function(a,b){var h,g,d;g=a.makeComponent({title:"Code Block",cssClass:"gutentyp-code-block",pipelineName:"code::block",icon:b.icons.pre,textClass:"sr-only",func:function(a,b){return'<pre class="prettyprint linenums">'+b+"</pre>"}});h=a.makeComponent({title:"Code",cssClass:"gutentyp-code",pipelineName:"code",icon:b.icons.code,textClass:"sr-only",func:function(a,b){return"<code>"+b+"</code>"}});d=a.makeComponent({title:"Quote",cssClass:"gutentyp-quote",
pipelineName:"quote",icon:b.icons.blockquote,textClass:"sr-only",func:function(a,b){return"<blockquote>"+b+"</blockquote>"}});a.addComponent([h,g,d])}});hilary.register("gutentyp::components::colors",{init:function(a,b){var h,g=b.colors,d=0,m;m=a.makeComponent({title:"Colors",cssClass:"gutentyp-colors",pipelineName:"colors",icon:"color-block color-pink",textClass:"sr-only"});m.name="colors";m.arrow="over";h=function(b){a.addComponent(a.makeComponent({title:b.title,cssClass:"gutentyp-"+b.name,pipelineName:"color"+b.Title,func:function(a,d){document.execCommand("forecolor",!1,b.value);return!1},displayHandler:function(a){return'<button type="button" class="'+
a+'"><span class="color-block" style="background-color: '+b.value+'"></span></button>'},group:m}))};for(d;d<g.length;d++)h(g[d])}});hilary.register("gutentyp::components::emphasis",{init:function(a,b){var h,g,d,m;h=a.makeComponent({title:"Bold",cssClass:"gutentyp-bold",pipelineName:"bold",icon:b.icons.bold,textClass:"sr-only",func:function(a,b){document.execCommand("bold",!1,null);return!1}});g=a.makeComponent({title:"Italic",cssClass:"gutentyp-italic",pipelineName:"italic",icon:b.icons.italic,textClass:"sr-only",func:function(a,b){document.execCommand("italic",!1,null);return!1}});d=a.makeComponent({title:"Underline",cssClass:"gutentyp-underline",
pipelineName:"underline",icon:b.icons.underline,textClass:"sr-only",func:function(a,b){document.execCommand("underline",!1,null);return!1}});m=a.makeComponent({title:"Strike Through",cssClass:"gutentyp-strike",pipelineName:"strike",icon:b.icons.strikethrough,textClass:"sr-only",func:function(a,b){document.execCommand("strikeThrough",!1,null);return!1}});a.addComponent([h,g,d,m])}});hilary.register("gutentyp::components::headings",{init:function(a,b){var h,g,d,m,l,e;e=a.makeComponent({title:"Headings",cssClass:"gutentyp-headings",pipelineName:"headings",icon:b.icons.header,textClass:"sr-only"});e.name="headings";e.arrow="over";h=a.makeComponent({title:"h1",cssClass:"gutentyp-h1",pipelineName:"h1",func:function(a,b){return"<h1>"+b+"</h1>"},group:e});g=a.makeComponent({title:"h2",cssClass:"gutentyp-h2",pipelineName:"h2",func:function(a,b){return"<h2>"+b+"</h2>"},group:e});d=a.makeComponent({title:"h3",
cssClass:"gutentyp-h3",pipelineName:"h3",func:function(a,b){return"<h3>"+b+"</h3>"},group:e});m=a.makeComponent({title:"h4",cssClass:"gutentyp-h4",pipelineName:"h4",func:function(a,b){return"<h4>"+b+"</h4>"},group:e});l=a.makeComponent({title:"h5",cssClass:"gutentyp-h5",pipelineName:"h5",func:function(a,b){return"<h5>"+b+"</h5>"},group:e});e=a.makeComponent({title:"h6",cssClass:"gutentyp-h6",pipelineName:"h6",func:function(a,b){return"<h6>"+b+"</h6>"},group:e});a.addComponent([h,g,d,m,l,e])}});hilary.register("gutentyp::components::image",{init:function(a,b,h){b=a.makeComponent({title:"Add Image",cssClass:"gutentyp-image",pipelineName:"image",icon:b.icons.image,textClass:"sr-only",func:function(a,b,h){if(!h)throw"No form data is present, so we can't write an anchor element.";a=h.width;b=h.height;return'<img src="'+h.src+'" alt="'+(h.alt||h.src)+'" '+(a?'width="'+a+'"':"")+(b?'height="'+b+'"':"")+"/>"},form:{fields:[{name:"src",label:"Url",elementType:"input",type:"text",validation:{message:"Please enter a valid Url.",
cssClass:"link-src",validate:function(a,b){return!b||!b.src||0>b.src.indexOf("://")?!1:!0}}},{name:"alt",label:"Description",elementType:"input",type:"text",validation:{message:"Please enter a description. It's used by screen readers for accessibility.",cssClass:"link-alt",validate:function(a,b){return b&&b.alt?!0:!1}}},{name:"width",label:"Width",elementType:"input",type:"text",validation:{message:"Width is not required, but it has to be a number",cssClass:"link-width",validate:function(a,b){return b&&
b.width&&isNaN(b.width)?!1:!0}}},{name:"height",label:"Height",elementType:"input",type:"text",validation:{message:"Height is not required, but it has to be a number",cssClass:"link-height",validate:function(a,b){return b&&b.height&&isNaN(b.height)?!1:!0}}}]},after:function(a){h.clearForm(a.target)}});a.addComponent(b)}});hilary.register("gutentyp::components::justification",{init:function(a,b){var h,g,d,m,l,e;e=a.makeComponent({title:"Alignment",cssClass:"gutentyp-align",pipelineName:"alignment",icon:b.icons.alignLeft,textClass:"sr-only"});e.name="alignment";e.arrow="over";h=a.makeComponent({title:"Align Left",cssClass:"gutentyp-align-left",pipelineName:"alignLeft",icon:b.icons.alignLeft,textClass:"sr-only",func:function(a,b){document.execCommand("justifyLeft",!1,null);return!1},group:e});g=a.makeComponent({title:"Align Center",
cssClass:"gutentyp-align-center",pipelineName:"alignCenter",icon:b.icons.alignCenter,textClass:"sr-only",func:function(a,b){document.execCommand("justifyCenter",!1,null);return!1},group:e});d=a.makeComponent({title:"Align Right",cssClass:"gutentyp-align-right",pipelineName:"alignRight",icon:b.icons.alignRight,textClass:"sr-only",func:function(a,b){document.execCommand("justifyRight",!1,null);return!1},group:e});m=a.makeComponent({title:"Justify",cssClass:"gutentyp-align-justify",pipelineName:"alignJustify",
icon:b.icons.alignJustify,textClass:"sr-only",func:function(a,b){document.execCommand("justifyFull",!1,null);return!1},group:e});l=a.makeComponent({title:"Indent",cssClass:"gutentyp-indent",pipelineName:"indent",icon:b.icons.indent,textClass:"sr-only",func:function(a,b){document.execCommand("indent",!1,null);return!1},group:e});e=a.makeComponent({title:"Outdent",cssClass:"gutentyp-outdent",pipelineName:"outdent",icon:b.icons.outdent,textClass:"sr-only",func:function(a,b){document.execCommand("outdent",
!1,null);return!1},group:e});a.addComponent([h,g,d,m,l,e])}});hilary.register("gutentyp::components::link",{init:function(a,b,h){b=a.makeComponent({title:"Add Link",cssClass:"gutentyp-link",pipelineName:"link",icon:b.icons.link,textClass:"sr-only",func:function(a,b,h){if(!h||!h.href)throw"No form data is present, so we can't write an anchor element.";return'<a href="'+h.href+'" target="_blank">'+(b&&0<b.length?b:h.href)+"</a>"},form:{fields:[{name:"href",label:"Url",elementType:"input",type:"text",validation:{message:"Please enter a valid Url.",cssClass:"link-url",
validate:function(a,b){return!b||!b.href||0>b.href.indexOf("://")?!1:!0}}}]},after:function(a){h.clearForm(a.target)}});a.addComponent(b)}});hilary.register("gutentyp::components::lists",{init:function(a,b){var h,g;h=a.makeComponent({title:"Unordered List",cssClass:"gutentyp-list-unordered",pipelineName:"list::unordered",icon:b.icons.unorderedList,textClass:"sr-only",func:function(a,b){document.execCommand("insertUnorderedList",!1,null);return!1}});g=a.makeComponent({title:"Ordered List",cssClass:"gutentyp-list-ordered",pipelineName:"list::ordered",icon:b.icons.orderedList,textClass:"sr-only",func:function(a,b){document.execCommand("insertOrderedList",
!1,null);return!1}});a.addComponent([h,g])}});hilary.use([hilary,jQuery,window],function(a,b,h,g){g.gutentyp=function(){var a={},g,l,e,p,q,r,s,n,c;l=b.createChildContainer();c=function(a){(a=l.tryResolve(a))&&a.init(r,e,p)};g=function(){e=l.resolve("gutentyp::config").init();a.config=e;p=l.resolve("gutentyp::utils").init(h,e);q=l.resolve("gutentyp::pipeline").init(e,p);a.pipeline=q.registerPipelineEvent;r=l.resolve("gutentyp::components").init(e,p,q);c("gutentyp::components::emphasis");c("gutentyp::components::colors");c("gutentyp::components::headings");
c("gutentyp::components::justification");c("gutentyp::components::lists");c("gutentyp::components::blocks");c("gutentyp::components::link");c("gutentyp::components::image")};g();a.init=function(){s=l.resolve("gutentyp::toolbar").init(e,p,r);n=l.resolve("gutentyp::core").init(e,p,r,s);n.load();return a};a.registerComponent=function(b){b=r.makeComponent(b);r.addComponent(b);return a};a.overrideModule=function(b,c){l.register(b,c);g();return a};a.overrideConfig=function(b){return a.overrideModule("gutentyp::config",
b)};a.overrideUtils=function(b){return a.overrideModule("gutentyp::utils",b)};a.overridePipeline=function(b){return a.overrideModule("gutentyp::pipeline",b)};a.overrideComponents=function(b){return a.overrideModule("gutentyp::components",b)};a.overrideToolbar=function(b){l.register("gutentyp::toolbar",b);return a};a.overrideCore=function(b){l.register("gutentyp::core",b);return a};a.ifYouReallyKnowWhatYoureDoing={IoC:l,prep:g};return a}});